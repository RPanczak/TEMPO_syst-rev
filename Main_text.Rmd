---
title: 'Estimating temporary populations: a systematic review of the empirical literature'
author: "Radoslaw Panczak, Elin Charles-Edwards, Jonathan Corcoran"
csl: bibliography/demographic-research-mod.csl
output:
  word_document:
    fig_caption: yes
    toc: no
    reference_docx: styles.docx
  html_document:
    df_print: paged
    toc: yes
link-citations: yes
editor_options:
  chunk_output_type: console
bibliography:
- bibliography/Temporary Populations.bib
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

library(pacman)
p_load(tidyverse, readxl, knitr, sjmisc, sjPlot, scales)

```

```{r data, include=FALSE}
main <- read_excel("./data/TEMPO_SR_2019-08-13.xlsx", sheet = "Main") %>% 
  replace(is.na(.), "") %>% 
  select(-Peer_review, -Theory, -Data_base, 
         -Est_start, -Est_end, 
         -Est_tunit_1, -Est_tunit_2, -Est_tunit_3) %>% 
  mutate(Est_pop_size = as.numeric(Est_pop_size),
         Data_size_users = as.numeric(Data_size_users),
         Data_size_activities = as.numeric(Data_size_activities),
         Est_tunit_num = as.numeric(Est_tunit_num),
         Est_spat_num_1 = as.numeric(Est_spat_num_1),
         Est_spat_num_2 = as.numeric(Est_spat_num_2))
# View(main)

```

# Abstract {-}

**BACKGROUND**
The estimation of temporary populations is a well-established field, but despite growing interest they are yet to form part of the standard suite of official population statistics. 

**OBJECTIVE**
This systematic review seeks to review the empirical literature on temporary population estimation and identify the contemporary ‘state of the art’. 

**RESULTS**
We identify a total of `r nrow(main)` studies that attempt to estimate or describe a method of estimation. Our findings reveal strong growth in the number of studies in recent decades that in part has been driven by the rise in both the type and availability of new sources of information, including mobile phone data. 

**CONCLUSIONS**
The review points to a number of important challenges that remain for estimating temporary populations, both conceptually and practically. What remains is the need for clear definitions along with identification of appropriate data and methods that are able to robustly capture and measure the diverse array of spatial behaviours that drive temporary population dynamics.

**CONTRIBUTION**
This a first review on this topic that brings together literature from various disciplines and collects methods used for estimation.

**Keywords:** temporary populations, daytime populations, service populations, seasonal populations, real-time census, social sensing, systematic review

# Background

Conventional population estimates capture a population at a single point in time. Such estimates ignore the short-term dynamism of many populations caused by temporary population mobility, territorial movement which does not result in a permanent change of usual residence [@bellComparingTemporaryMobility2000]. Temporary population movements are defined as moves of one or more night’s duration, but can be broadened to include diurnal movements such as daily commuting [@smithMethodologyEstimatingTemporary1989]. Temporary mobility can have a large impact on the size and composition of small area populations [@charles-edwardsElsewhereAustraliaSnapshot2018] impacting traffic, housing, retail sales, medical services and emergency preparedness to name a select few  [@smithMethodologyEstimatingTemporary1989; @smithTemporaryMigrationCase2007]. As a consequence, there is growing interest and need for temporary population estimates across a broad range of purposes including the planning and delivery of goods and services [@markhamNewDirectionsIndigenous2013], fiscal equalisation [@graebertNorthwestMichiganSeasonal2014], retail analysis [@soundararajEstimatingRealtimeHighstreet2019], transport demand [@toolePathMostTraveled2015], emergency preparedness [@gaoAssessingSocialEconomic2014], and as better denominators for crime and epidemiological models [@charles-edwardsFrameworkOfficialTemporary].

Scholarship concerned with developing the conceptual aspects of temporary populations has seen a longstanding interest with early work appearing in the Unites States in the 1950s [@foleyUrbanDaytimePopulation1954; @schmittEstimatingDaytimePopulations1956]. This early work proposed building on approaches previously used for the estimation of resident populations to generate temporary population estimates. Schmitt [-@schmittEstimatingDaytimePopulations1956] was the first to recognise the potential value of symptomatic data as a source for such statistics. Several decades later it was Smith [-@smithHowTallyTemporary1987; -@smithMethodologyEstimatingTemporary1989] that proposed set of metrics (visitor-days and visitor-years) to capture measures of population present as well as highlighting the difficulty of validating estimates of temporary populations. More recently, Bell [-@bellDataTheoryMethod2000; -@bellMeasuringTemporaryMobility2004] argued that estimates of temporary populations are contingent on developing a rigorous understanding of temporary population mobility. Here he drew attention to four dimensions (movement intensity, duration, seasonality and spatial impact) which he argued are associated with temporary mobility and that drive the change in stock of temporary visitors at both the origin and at the destination.

Despite growing interest in temporary population statistics, they still do not form part of the standard suite of any official population statistics. Historically, this been due to a lack of data capturing temporary populations, but also nascent conceptualisation of temporary populations and lack of standard methodologies for their production. Indeed, Smith [-@smithMethodologyEstimatingTemporary1989], in his seminal paper on the estimation of temporary populations, noted that the development of a methodology applicable across a wide range of population and scenarios was ‘most likely impossible’ (p.430). He could not have predicted the proliferation of geo-located data from mobile phones and other technologies in the 21<sup>st</sup> Century with potential for the sensing of temporary populations across large geographic areas and in widely differing contexts. The current study assesses progress in the field of temporary population statistics. To this end, we conduct a systematic review of the international literature on the estimation of temporary populations to identify the contemporary state of the art. To this end the study seeks to understand the volume, geography, population coverage along with the data and methods used to generate temporary population estimates, and investigate how such estimates might be reconciled alongside traditional population statistics. 

The remainder of the paper is structured as follows: In Section 2 we detail the adopted methods including information sources and search terms, eligibility criteria and data extraction. In Section 3, we report results of the review examining both theoretical and applied work. In the final sections of the paper we summarise the current start of the art and make a series of recommendations for the production of temporary population statistics.


# Methods: Protocol and capture

The review was conducted using the principles of the PRISMA Statement for Reporting Systematic Reviews [@moherPreferredReportingItems2009] (_Appendix 1_). In order to deal with complexity and lack of standarization in the field and to account for theory-building character of this work we additionally adopted "mixed-method review" methodology [@goughQualitativeMixedMethods2015]. That allowed us to combine methods of a systematic review (selection of keywords and sources, eligibility criteria, etc.) with the openness and flexibility of traditional reviews. The study was conducted without a review protocol. 

Articles that form the basis of the review were captured via search of four databases; (1) Web of Science; (2) Scopus; (3) Google Scholar; and, (4) arXiv. All databases were searched using a set of keywords that collectively encompass the breadth of synonyms for temporary populations. More specifically we employed a suite of terms that were derived from the authors existing knowledge of the field, as well as key terms that emerged during early stages of the review process. Terms included: “temporary population”, “working population”, “daytime population”, “mobile population”, “service population”, “floating population”, “elusive population”, “ambient population”, “seasonal population”, “non-resident population”, “real-time census”, “social sensing” and “spatiotemporal population”. We additionally scrutinised the reference lists of included studies to ensure full coverage of articles. Last searches were conducted on the 24 November 2017. In order to to enhance the currency and coverage of the articles captured we adopted some of the principles of living systematic review methodology [@elliottLivingSystematicReviews2014]. We set up and reviewed updates from three of the databases covering all queries, and manually searched the fourth one. The final inclusion of studies into the review was conducted on `r format(Sys.time(), '%d %B %Y')`. _Appendix 2_ contains details of the search strategy.

To supplement the key search terms listed above, inclusion and exclusion criteria were developed. These included:

- Studies were included if they produced estimates or forecasts of temporary populations.

- Studies were required to detail their methodology for at least one geographical region and capture non-resident populations. 

- Studies were excluded if they focused their analyses on certain population bases (for instance, social media or mobile phone users) without any extrapolation to the total population of a region. 

- Studies estimating tourist arrivals and crowds were also excluded given that our interest here is on studies aiming to establish more complete and stable populations in the areas in contrast to subgroups (such as tourists) or highly transient populations (such as crowds or pedestrians).

- Book reviews and magazines were excluded. 

- Only studies published in English were included. 

These criteria were designed to capture studies that offered in-depth empirical analysis of temporary population estimation rather than either theoretic development/debate or studies that presented descriptive analyses of . Beyond the aforementioned criteria, there were no restrictions based on publication date, or publication status (for example, a published article versus an unpublished thesis). In cases where the same or similar methodology was used in several studies we selected one representative article to present in the review and collected further references in supplementary materials. 

We developed data extraction sheet and revised it iteratively during the extraction process until it was applicable to all studies. One author (RP) extracted data independently. Information extracted from the studies was split into two major groups and included:

1. Publication details: Publication metadata included: authors, title, source, year and publication type. We classified studies according to the primary source of data: mobile phones, remote sensing, social media, transport (e.g. cordon counts, traffic and smart card data), administrative data (e.g. national censuses, health care records or various registries such as a registry of second homes), surveys (e.g. time use survey, holiday accommodation occupancy surveys), Wi-Fi and data from utility providers (e.g. electricity consumption). Studies could belong to more than one category.

2. Estimation: characteristics of estimates in the study including whether estimates captured daytime or overnight populations, the country and region for which estimates were made, data sources, methods and software, data and population size, number of spatial and temporal units, validation of estimates and the purpose for which they were produced. 


# Results and Discussion: Estimating temporary populations

## Publications time frame, sources and reasons for estimates

```{r eval=FALSE, include=FALSE}
nrow(main)
frq(main$Source)
```

Collectively, our initial search strategy initially identified around 22.9 thousands documents (Figure 1). After removing duplicates, titles and abstracts were screen for eligibility resulting in the set of 122 articles. The final stage involved a screening of full texts resulting in the removal of a further 68 articles. Additional `r nrow(filter(main, Source == "Manual"))` articles were identified from other sources and `r nrow(filter(main, Source == "Update"))` - captured by scaning updates of the search results. A total of `r nrow(main)` studies were taken forward to form part of the analysis (_Appendix 3_).

```{r eval=FALSE, include=FALSE}
summary(main$Year_pub)
frq(main$Pub_type)
```

**Figure 1.** Flowchart of study selection. 

![](./figures/flow_chart.png)

The `r nrow(main)` studies were published between `r number(min(main$Year_pub, na.rm = TRUE), big.mark = "")` and `r number(max(main$Year_pub, na.rm = TRUE), big.mark = "")` (median publication year `r number(median(main$Year_pub, na.rm = TRUE), big.mark = "")`) and focused on various aspects of temporary population estimation, including the production of temporary population statistics (Table 1; _Appendix 4_). There has been exponential growth in the number of studies since the first publication in 1925, with more than third of the studies (`r format(round(100 * nrow(filter(main, Year_pub >= 2015)) / nrow(main), 1), nsmall = 1)`%) published since 2015. A total of `r percent(nrow(filter(main, Pub_type == "Article"))/nrow(main))` of studies were published as articles followed by `r percent(nrow(filter(main, Pub_type == "Report"))/nrow(main))` as reports and `r percent(nrow(filter(main, Pub_type == "Conference"))/nrow(main))` as conference proceedings or presentations.

```{r eval=FALSE, include=FALSE}
main %>% 
  select(starts_with("Purpose_")) %>% 
  gather(key, count, Purpose_1:Purpose_2) %>% 
  filter(count != "") %>% 
  frq(count, sort.frq = c("desc"))
```

The following discussion draws on the content of the included papers that are cited throughout the text as required. Emergency planning (n=`r nrow(filter(main, Purpose_1 == "Emergency planning" | Purpose_2 == "Emergency planning"))`) was the most frequently quoted as reason for producing temporary population estimates followed by understanding service populations (n=`r nrow(filter(main, Purpose_1 == "Service population" | Purpose_2 == "Service population"))`), epidemiology (n=`r nrow(filter(main, Purpose_1 == "Epidemiology" | Purpose_2 == "Epidemiology"))`) and commuting (n=`r nrow(filter(main, Purpose_1 == "Commuting" | Purpose_2 == "Commuting"))`), many studies directly discussing a domain of application. We next discuss the papers under 6 broad domains; (1) data; (2) methods; (3) the geography of estimates; (4) temporal units; (5) population size and composition; and, (6) reproducibility.

## Data types

```{r eval=FALSE, include=FALSE}
main %>% 
  select(Year_pub, starts_with("Type_")) %>% 
  gather(Order, Type, Type_1:Type_4) %>% 
  filter(Type != "") %>% 
  frq(Type, sort.frq = c("desc"))
```

Administrative data, defined as large scale data collected by official agencies (such as censuses or registries), formed the basis or were the strong component of the largest number of studies (Figure 2). First report was based on the 1921 Census data from England and Wales and used data on place of work to estimate daytime population [@censusofenglandandwales1921Workplaces1925]. These estimates continue to be delivered with the latest Census also offering workday population estimates for England and Wales [@officefornationalstatistics2011CensusWorkday2013; see also related work in _Appendix 5_]. Census data from the United Kingdom were also extensively used as a part of methodologies developed by more recent work of [@smithNationalPopulationData2005] and [@martinDevelopingFlexibleFramework2015].

**Figure 2.** Cumulative distribution of year of publication across major themes. 

```{r figure_2, fig.height=3.675, fig.width=4.9, dpi=300, warning=FALSE}
main %>% select(Year_pub, starts_with("Type_")) %>% 
  gather(Order, Type, Type_1:Type_4) %>% 
  filter(Type != "") %>% 
  filter(Type != "Social media") %>% # count of 1 so no line possible
  select(-Order) %>% 
  arrange(Year_pub, Type) %>% 
  group_by(Year_pub, Type) %>% 
  mutate(count = n()) %>% 
  distinct() %>% 
  group_by(Type) %>% 
  mutate(cumulative = cumsum(count)) %>% 
  ggplot(aes(Year_pub, cumulative, colour = Type)) + 
  geom_line() +
  scale_fill_brewer(palette = "Set3") +
  theme_minimal() + 
  labs(
    # title = "Major themes of publications",
    colour = "Theme", 
    x = "Year of publication",
    y = "Cumulative number of studies")
```

*Note:* Studies can belong to more than one category; 'Social Media' category has been excluded as it only has one member. 

The equivalent of this work in the United States employ commuter-adjusted population estimates using the American Community Survey to adjust night-time population counts [@mckenzieCommuteradjustedPopulationEstimates2013]. Other primarily Census-based studies from the United States include the work from the Seattle City Planning Commission [-@seattlecityplanningcommissionDaytimeNighttimePopulation1951] and Bureau of the Census [-@bureauofthecensusPopulationEstimatesSurvival1956], @fultonEstimatingDaytimePopulation1984, @goberGeographyNonpermanentResidence1984, @nelsonEstimatingFunctionalPopulation1992, @mcphersonDayNightPopulation2003, @kobayashiVisualizingDiurnalPopulation2011, @swansonEstimatingFactoPopulation2011, @hodurServicePopulationEstimates2015, @kimModellingDaytimePopulation2017, @boeingEstimatingLocalDaytime2018 and @esriMethodologyStatement20182018. Each used a wide selection of methods to adjust Census estimates on variety of scales, often accompanied by other data sources. This for example includes, location of work, transportation models or payroll data that helps to determine size and location of daytime or seasonal population.  

Census data were also used for estimation and analyses of temporary populations in Australia. Taking advantage of the availability of the place of residence and place of enumeration @bellPatternsTemporaryMobility1998 (see also subsequent work in _Appendix 5_) looked at the one day snapshot of mobility of Australians across different years and scales whereas @taylorMeasuringShortTerm1998 used Census for the estimation of mobility of indigenous people. Finally @gaoAssessingSocialEconomic2014 used Chinese Census data adjusted with figures for tourists, school and patient populations and @qiModelingSpatialDistribution2015 extended it with land use models.

Census main advantage is that it provides close to full enumeration of the population, however it also provides only a snapshot of temporary populations on one day or night, every five or ten years. Many form of temporary population mobility are highly seasonal, thus census data will not reflect the population present at other times of the year. Finally, other forms of administrative data such as health service utilization records [@markhamNewDirectionsIndigenous2013], building [@gregerSpatioTemporalBuildingPopulation2015] or second home registries [@adamiakSeasonalResidenceCounterurbanization2017] often complement census providing another data source for methods estimating temporary populations. 

The second most frequent group of studies was based on data coming from wide array of surveys. The early work from United States can be traced back to the work of Thornthwaite who estimated daytime population of a Central Business District using trafic survey [-@thornthwaiteLouisvilleKentuckyStudy1929; cited in @wheelerUrbanGeographerHis2002]. Others followed including Breese [-@breeseDaytimePopulationCentral1947], Sharp [-@sharpNonResidentialPopulationCentral1955] and Weir [-@weirSurveyDaytimePopulation1960]. The New York Regional Plan Association [-@newyorkregionalplanassociationPersonsVehiclesEntering1949], Seattle City Planning Commission [-@seattlecityplanningcommissionDaytimeNighttimePopulation1951] and Institute for Research in Social Science at the University of North Carolina [-@instituteforresearchinsocialscienceuniversityofnorthcarolinaPopulationDistributionSpatial1952] employed various sources of transportation surveys and cordon counts to estimate number of people in central business districts. Similar work from UK was done by Menzler [-@menzlerEstimateDaytimePopulation1952]. All these early effort relied on relatively simple methods and working with various survey data, often transport related (cordon counts, traffic surveys) but sometimes surveying whole resort town [@ericksonMeasuringResortPopulation1961] or areas with significant concentrations of temporary residents [@happelCountingSnowbirdsImportance2002]. Many of these conceptual approaches have been updated and developed further with various other types of surveys including travel surveys in multiple locations [@wurtelePopulationDynamicsFinal1968; @kavanaughMethodEstimatingDaytime1990; @stutzChartingUrbanSpacetime1992; @roddisMetropolitanActivityProfiles1996; @collinsDaytimePopulationTracking2007; @lauGISBasedStochastic2009; @horanontEstimateAmbientPopulation2010; @charles-edwardsModellingFluxEstimation2011; @sekimotoPFlowReconstructingPeople2011; @himotoModelSpatiotemporalDistribution2014; @kashiyamaOpenPFLOWCreation2017] as well as more traditional, telephone surveys [@galvezMeasurementFloridaTemporary1996] or specific surveys such as counts of indigenous population [@warchivkerTurmoilAboriginalEnumeration2000], all complimenting data sources for estimation of temporary populations.

Although censuses and surveys tend to lose their position as primary source of data, they still remain crucial part of many estimation attempts. There is a shift from using them as primary sources and into providing more complimentary role, for instance serving as starting points for estimation (–for example,  serving as ‘night time population’), delivering time use profiles used to redistribute other data or calibrate models or as a source of validation. For instance, seminal work of LandScan [@bhaduriLandScanUSAHighresolution2007] used Census as one of the main inputs and @maModelingHourlyDistribution2017 used smart card data to redistribute census (night-time) counts of population across city.

Third largest category of studies, and one that experienced the fastest growth in recent years, is work based on mobile phone (MP) data. The earliest identified application of MP data to estimate temporary populations was done in response to Haiti earthquake [@bengtssonImprovedResponseDisasters2011]. That was quickly followed by large scale estimates for Japan [@teradaPopulationEstimationTechnology2013] and analyses of temporary populations in France and Portugal [@devilleDynamicPopulationMapping2014]. Spatial coverage of MP based studies often reflects availability and accessibility of data. For instance, Italy and in particular Milan, are the subject of a number of studies due to the fact that local providers offer access to the aggregated and anonymized call detail records (CDR) [@khodabandelouPopulationEstimationMobile2016]. MP data are also used in parallel with other sources and methods for instance in dasymetric interpolation [@jarvEnhancingSpatialAccuracy2017] or together with transport survey data [@lwinSpaceTimeMultiple2016].

Less common, yet still significant are studies were based on utilities data [@goldschmidtDemoflushEstimatingPopulation1976; @monmouthcountyplanningboardSummerCoastalPopulation2008; @rigall-i-torrentEstimatingOvernightFacto2010; @mckenzieDemographicsFireRisk2016; @edmondsonMakingItCount2019], remote sensing [@taubenbockLinkingStructuralUrban2007; @stathakisSeasonalPopulationEstimates2018] and Wi-Fi [@kontokostaUrbanPhenologyRealtime2017; @crolsQuantifyingAmbientPopulation2019]. Contrary to our expectations, social media (SM) data were only used by one study [@lwinSpaceTimeMultiple2016]. Recognition of complexity of providing estimates together with growing availability of data also led to attempts combining multiple sources of data [@fehrpeersNapaCountyTravel2014; @edmondsonMakingItCount2019].

## Estimation methods

The earliest method of deriving temporary population statistics was to use direct estimates, either from the Census [@censusofenglandandwales1921Workplaces1925], survey [@thornthwaiteLouisvilleKentuckyStudy1929] or by combining multiple formerly disparate sources of data [@breeseDaytimePopulationCentral1947]. These studies took advantage of availability of information about workplaces of individuals [@officefornationalstatistics2011CensusWorkday2013], their status of residence [@goberGeographyNonpermanentResidence1984] or place of enumeration [@bellPatternsTemporaryMobility1998] to distinguish between two or more states of population distribution such as night- and daytime.

Alternative approaches used some form of scaling of population counts from one or more sources to the whole population either by using expansion factors. Such approaches were used by both early surveys [@newyorkregionalplanassociationPersonsVehiclesEntering1949; @foleyDailyMovementPopulation1952] and more contemporary analyses based on MP or Wi-Fi data. In the latter case, various strategies of deriving factors were adopted, some based on penetration rate of MP data provider [@bengtssonImprovedResponseDisasters2011], night-time Census population [@devilleDynamicPopulationMapping2014] or ancillary survey data [@kontokostaUrbanPhenologyRealtime2017]. Studies either used a single factor for entire region [@thomasUseMobileDevice2017] or multiple ones, varying them geographically [@batranInferencingHumanSpatiotemporal2018] or over subgroups of population [@picornellPopulationDynamicsBased2018].

A separate strand of research focused on various methods to redistribute temporary populations in larger spatial units to smaller ones. A range of methods are used including dasymetric approaches widely used for mapping small area resident populations. LandScan USA model [@bhaduriLandScanUSAHighresolution2007] for instance has the largest spatial coverage providing gridded population estimates of the nightime and daytime population for the United States. Martin et al. [-@martinDevelopingFlexibleFramework2015] model for Southampton on the other hand is an example of more spatially and temporally detailed approach that can be adapted to various grid sizes and temporal resolutions and has been implemented in other locations and settings (_Appendix 5_). The redistribution approach usually uses ancillary data such as land use [@batistaesilvaSpatiotemporalMappingPopulation2017] or building type [@gregerSpatioTemporalBuildingPopulation2015] and apart from Census or surveys could also use MP [@jarvEnhancingSpatialAccuracy2017] or transportation data [@maModelingHourlyDistribution2017] as input.

Temporary populations were also estimated using various equation-based population accounts. These methods used generic or area-specific equation to derive counts of temporary residents from usual residents, subtracting departures and adding arrivals to a spatial unit in given time [@yongliResearchStatisticalModels1998]. For instance Journey-to-Work data  is used to estimate the  working population [@mckenzieCommuteradjustedPopulationEstimates2013], second home users and usage could be used to capture seasonal populations in specific areas [@adamiakSeasonalResidenceCounterurbanization2017] or sales tax data could be used to derive equivalent residents [@thakurMethodologyAccountSeasonal2018]. Additionally, separate estimates could be derived for subgroups of population [@swansonEstimatingFactoPopulation2011] or for temporal units using seasonal coefficient derived from night-time satellite imagery [@stathakisSeasonalPopulationEstimates2018].

Finally, large number of modelling and simulation approaches were tested more recently with various forms of data inputs. That ranged from agent based simulation [@walkerAgentbasedPopulationModel2012; @kashiyamaOpenPFLOWCreation2017; @crolsQuantifyingAmbientPopulation2019], cellular automaton model [@khakpourAttractionbasedCellularAutomaton2016], to the use of neural networks [@chenFinegrainedPredictionUrban2018; @liuMappingHourlyDynamics2018].

## The geography of estimates

```{r, eval=FALSE}
main %>% 
  frq(National, sort.frq = "desc")

main %>% 
  mutate(Region_type = ifelse(National == "Yes", "Country", Region_type)) %>%
  frq(Region_type, sort.frq = "desc")
```

Only `r percent(nrow(filter(main, National == "Yes"))/nrow(main))` of studies reported on estimates created for the whole country (Figure 3). The United States was the most represented with a total of five studies, followed by Australia and England and Wales. Only one developing country, Nepal, [@wilsonRapidRealTimeAssessments2016] was represented and one study reported on two countries [@devilleDynamicPopulationMapping2014]. Studies covering a part of the country were again most frequent in the United States. This was followed by China, Australia, Japan and the United Kingdom. A handful of developing nations [Haiti, Bangladesh, Mozambique, Myanmar and Vietnam] were included as well. A little more than half (`r percent(nrow(filter(main, Region_type == "Single city"))/nrow(main))`) of the studies were focused on a single city.

**Figure 3.** Country of temporary population estimates and national coverage. 

```{r figure_3, fig.height=3.675, fig.width=4.9, dpi=300}
main %>% select(National, starts_with("Country_")) %>% 
  gather(Order, Country, Country_1:Country_2) %>% 
  filter(Country != "") %>% 
  mutate(National_lab = ifelse(National == "Yes", 
                               "National coverage", "Subnational coverage")) %>% 
  ggplot(aes(fct_infreq(Country))) +
  geom_bar() + 
  coord_flip() +
  facet_wrap(~ National_lab) +
  theme_minimal() + 
  labs(
    # title = "Country of estimates & national coverage",
    x = "",
    y = "Number of studies")
```

*Note:* Study of [@devilleDynamicPopulationMapping2014] describes two countries.

```{r eval=FALSE, include=FALSE}
main %>% 
  select(Year_pub, starts_with("Est_unit_type_")) %>% 
  gather(Order, Est_unit_type, Est_unit_type_1:Est_unit_type_2) %>% 
  filter(Est_unit_type != "") %>% 
  frq(Est_unit_type, sort.frq = c("desc"))
```

Two types of spatial unit for the estimates dominated; `r percent((nrow(filter(main, Est_unit_type_1 == "Administrative" | Est_unit_type_1 == "City")) + nrow(filter(main, Est_unit_type_2 == "Administrative" | Est_unit_type_2 == "City"))) / nrow(main))` of studies used some form of administrative units (for example, statistical division, county, township or entire city) and `r percent((nrow(filter(main, Est_unit_type_1 == "Grid")) + nrow(filter(main, Est_unit_type_2 == "Grid"))) / nrow(main))` used grids of varying sizes. Other types of spatial unit included points, buildings Vornoi polygons or custom units. A number of studies `r nrow(filter(main, Est_unit_type_2 != ""))` reported estimates for more than one type of spatial unit.

```{r, eval=FALSE}
descr(main, Est_spat_num_1)
```

There was a large variation in the number of spatial units used to produce estimates ranging from `r number(min(main$Est_spat_num_1, na.rm = TRUE))` to `r number(max(main$Est_spat_num_1, na.rm = TRUE), big.mark = ",")`
with median value of `r number(median(main$Est_spat_num_1, na.rm = TRUE), big.mark = ",")`. `r number(nrow(filter(main, Est_spat_num_1 == 1)))` studies reported on a single spatial unit ranging in size including islands [@edmondsonMakingItCount2019], a single administrative region [@fehrpeersNapaCountyTravel2014], a city [eg. @goldschmidtDemoflushEstimatingPopulation1976] and a university campus [@charles-edwardsEstimatingServicePopulation2013]. Studies reporting estimates for larger numbers of units provided estimates at the building level [@araImpactTemporalPopulation2014], used high resolution grids [@adamiakSeasonalResidenceCounterurbanization2017] or administrative areas [@mckenzieCommuteradjustedPopulationEstimates2013], often alongside national or large sub-national area coverage. A total of `r number(nrow(filter(main, is.na(Est_spat_num_1))))` studies did not report the exact number of spatial units for which estimates are produced.

## Temporal units of estimates

```{r, eval=FALSE}
main %>% 
  frq(Day, sort.frq = "desc")

main %>% 
  frq(Est_tunit, sort.frq = "desc")
```

The majority of studies (`r percent(nrow(filter(main, Day == "Yes" | Day == "Both"))/nrow(main))`) report on daytime populations (or both daytime and seasonal) and is reflected in the choice of the temporal units used in the estimates. A total of `r percent(nrow(filter(main, Est_tunit == "Minute/hour"))/nrow(main))` of studies used minutes or hours as their temporal scale, with the second most common unit was split between daytime and night-time estimates (`r percent(nrow(filter(main, Est_tunit == "Daytime/nighttime"))/nrow(main))`) or daytime only (`r percent(nrow(filter(main, Est_tunit == "Daytime"))/nrow(main))`) (Figure 4). 

**Figure 4.** Temporal units used for estimates.

```{r figure_4, fig.height=3.675, fig.width=4.9, dpi=300}
main %>% 
  filter(Est_tunit != "") %>% 
  ggplot(aes(fct_infreq(Est_tunit))) +
  geom_bar() + 
  coord_flip() +
  theme_minimal() + 
  labs(
    # title = "Type of temporal units used",
    x = "",
    y = "Number of studies")
```

## Estimated population size and composition

```{r eval=FALSE}
descr(main, Est_pop_size)
descr(main, Data_size_users)
```

There was a large variation in the sizes of estimated populations, ranging from `r number(min(main$Est_pop_size, na.rm = TRUE))` to `r number(max(main$Est_pop_size, na.rm = TRUE), big.mark = ",")` with median value of `r number(median(main$Est_pop_size, na.rm = TRUE), big.mark = ",")`. When the size of dataset was taken into account these figures ranged from `r number(min(main$Data_size_users, na.rm = TRUE))` to `r number(max(main$Data_size_users, na.rm = TRUE), big.mark = ",")` with median value of `r number(median(main$Data_size_users, na.rm = TRUE), big.mark = ",")`. Combining these two sources of information, largest populations were used or estimated when MP data were used, followed by smaller amount of transport-based studies. Other large studies used various forms of tax data (Figure 5).

**Figure 5.** Size of population by theme. 

```{r}
main %>%
  mutate(Est_pop_size = ifelse(test = (is.na(Est_pop_size) & !is.na(Data_size_users)), 
                               yes = Data_size_users, no = Est_pop_size)) %>% 
  filter(Est_pop_size != "") %>% 
  ggplot(aes(Type_1, Est_pop_size)) + 
  geom_boxplot(varwidth = TRUE) +
  scale_y_log10() +
  theme_minimal() + 
  labs(
    # title = "Size of estimated population across main themes",
    x = "Main type of publication",
    y = "Estimated population (log)")
```

*Note:* The Main category used. Box width is proportional to the total number of studies. Studies that did not report on an estimated population size using the size of dataset whenever possible.

In terms of composition, the majority of studies focused on general populations, either total populations present or working populations. That was sometimes extended to capture temporary or seasonal visitors in studies focusing on estimates fo summer resort towns [@ericksonMeasuringResortPopulation1961; @goldschmidtDemoflushEstimatingPopulation1976]. The general lack of information on the characteristics of users was often driven not by the theoretical or practical considerations but rather by data availability. For instance many studies based on MP data do not have access to any information on the users (e.g. age, sex, reason for visitation). Some studies sought to capture specific groups of temporary movers including retired individuals undertaken seasonal movements [@roseSeasonalMigrationRetired1989; @happelCountingSnowbirdsImportance2002], pupils [@campbellDevelopingExtensibleSolution2010], , second home users [@adamiakSeasonalResidenceCounterurbanization2017] or indigenous population [@warchivkerTurmoilAboriginalEnumeration2000], or a on functional area such as university campus [@charles-edwardsEstimatingServicePopulation2013].

## Reproducibility 

```{r, eval=FALSE}
frq(main, Est_avail, sort.frq = "none")

main %>% 
  filter(Est_avail == "") %>% 
  select(FA_surname)

frq(main, Software_avail, sort.frq = "none")

main %>% 
  frq(Validation, sort.frq = c("desc"))
```

`r percent(nrow(filter(main, Est_avail == "No"))/nrow(main))` of studies did not report estimates nor indicate where they could be obtained. Similarly, `r percent(nrow(filter(main, Software_avail == "No" | Software_avail == "" ))/nrow(main))` of studies did not report on type of software and/or code used to produce them. In some cases, particularly when relatively simple methods were used (for example, equation based), this does not limit reproducibility or replicability of the studies or possibility to implement them in different settings. However, for many studies, particularly those based on proprietary data, the prospects of generating estimates across different areas allied with their validation are limited. More particularly, validation of the results was not common practice with only `r percent(nrow(filter(main, Validation == "Yes"))/nrow(main))` reporting some attempt at validation with lack of data was often quoted as a main reason for not undertaking the task.

# Conclusions

The principal aim of this study was to review empirical literature and survey methods of temporary population estimation. We found a strong growth in the number of studies during the last two decades, particularly among studies using data derived from various mobile phone usage statistics. Despite the rise in the amount of studies using novel data and methods, there was a recognition of importance of good quality of census and survey data as a basis for other methods. A small fraction of studies provided actual estimates, and even smaller - sufficently described software and code used for analyses. 

To our knowledge this is the first and only systematic review of literature on this topic. Adopting methods of 'live systematic review' we provided up to date results systematizing state of the art in the field. Collecting the diverse literature might offer guidance towards future work helping to unify terminology and link efforts from multiple disciplines that are involved in the empirical work.

There exists a longstanding interest and demand for temporary population estimates with a growing number of empirical studies that have sought to develop a suite of methods to generate such outputs. However a disconnect arguably exists between the growing prevalence of such studies and the availability of such estimates through statistical agencies wherein their translation into standardised products appears yet to occur. Often, in the absence of official estimates cities and regions attempt their own calculations [@lambEstimatingSeasonalPopulation1999; @monmouthcountyplanningboardSummerCoastalPopulation2008; @fehrpeersNapaCountyTravel2014; @hodurServicePopulationEstimates2015; @edmondsonMakingItCount2019; @harrisWashingtonCountyTemporary2019]. It would seem that this situation may begin to change in the coming years with the emergence of major programs of research focussed on temporary population estimates to include ENhancing ACTivity and population mapping (ENACT) [@batistaesilvaSpatiotemporalMappingPopulation2017] and _Population 24/7_ project [@martinDevelopingFlexibleFramework2015] (see also the subsequent work in _Appendix 5_). 

There is also a large body of literature that have potential overlap with techniques for estimation. Research themes whose methodologies could provide insights estimates of temporary populations inlude: 

- estimation of gridded populations (ex. WorldPop [@tatemWorldPopOpenData2017a]); 

- analyses of populations derived from various big data sources without expanding results to overall populations (ex. based on mobile phone data [@calabreseRealTimeRome2006; @silmSeasonalVariabilityPopulation2010], Twitter [@brogueiraUsingGeolocatedTweets2016], Snapchat [@juhaszAnalyzingSpatioSpatiotemporal2018] or search engine data [@liSpatiotemporalDistributionCharacteristics2019]);

- analyses of tourism data such as tourist arrivals at transportation terminals [@jochemEstimatingTravelerPopulations2013] or forecasting tourist volume with search engine data [@liEffectiveTouristVolume2018], Google Analytics [@gunterForecastingCityArrivals2016] or Google Trends [@onderForecastingTourismDemand2017];

- various methodologies of crowd estimation and event monitoring such as classic approaches to demonstration population counts [@yipEstimationNumberPeople2010], agent-based modelling [@chowCrowdsourcingGeocomputationalFramework2019] approaches based on social media [@simsApplicationSocialMedia2017; @bottaMeasuringSizeCrowd2019] or mobile phone [@mameiEstimatingAttendanceCellular2016] data, bluetooth device monitoring [@versicheleUseBluetoothAnalysing2012];

- analyses of pedestrian movements and mobility, for instance based on positioning data [@mizziUnravelingPedestrianMobility2018] or using Wi-Fi & Bluetooth tracking  [@bohmEvaluatingUsageWiFi2016];

- tracking buildings occupancy [@stewartCanSocialMedia2017];

- or even the concepts of animal ecology studies, such as analyses of abundance [@melvilleEstimatingSpeciesAbundance2009] or  movement [@millerIntegratedScienceMovement2019].

Many of these studies never move from the analyses of their user bases and an effort would be reqired to extend the results of such approaches to derive estimates of overal population. 

It is important to point that the study has several limitations. The work on estimating temporary populations is very fragmented across various domains. It lacks standards and definitions, which makes it difficult to search and synthesize; for instance `r percent(nrow(filter(main, Source == "Manual"))/nrow(main))` of studies included in the review were found outside of the literature searches. The plethora of just the definitions of keywords for defining temporary populations and identifying relevant work. Additionally, some of the keywords overlap with terms used commonly in other disciplines (such as 'working population' used in health and epidemiology or 'seasonal population' used in ecology and related fields) resulting in large amount of false positive findings during literature search. Lastly, there is a large amount of grey literature, for instance `r percent(nrow(filter(main, Pub_type == "Report"))/nrow(main))` of studies included were in form of various reports. All in all, considering these we might have missed or misclassified some of the studies and further effort will be needed to monitor the development of the field. 

Temporal trends in the number of identified publications indicate that the field is accelerating. `r percent(nrow(filter(main, Source == "Update"))/nrow(main))` of studies included were found by monitoring search engine updates after the main literature search was conducted. That points to even more urgent need for standardizing and systematizing work in the field, perhaps even the development of guidelines for systematic reporting of temporary population estimates, encourage more open approaches to sharing data and methodology in more detail, preferably with access to software tools and code used. 

# Author's contribution

TBA

# Acknowledgments

We would like to thank the authors that responded to queries about details of their work: Christoph Aubrecht, Filipe Batista e Silva, Andrew Collins, Donald G. Janelle, Nik Lomax, David Martin, Chris Needham, Andy Newing, Paola Pucci, Stanley Smith and Martijn Tennekes. 

# Funding

This research was supported through funding from Australian Research Council Linkage Project,
LP160100305, Estimating Temporary Populations (TEMPO project). The funders had no role in study design, data collection and analysis, decision to publish, or preparation of the manuscript.


# Tables

**Table 1.** Selected characteristics of included studies. Note: * indicates that study can belong to more than one category.

```{r}

# Year of publication
table_1 <- 
  tibble(
    Characteristic = "Year of publication", 
    Value = "", 
    `n / median` = number(median(main$Year_pub, na.rm = TRUE), big.mark = ""),
    `% / min; max` = str_c(as.character(number(min(main$Year_pub, na.rm = TRUE), big.mark = "")),
                           as.character(number(max(main$Year_pub, na.rm = TRUE), big.mark = "")),
                           sep = "; ")
  )


# Source
temp <- main %>% 
  frq(Source, sort.frq = "desc", show.na = FALSE) 


table_1 <- rbind(table_1,
                 cbind(Characteristic = c("Search method", 
                                          cbind(rep("", length(temp[[1]]$val)-1))),
                       Value = as.character(temp[[1]]$val), 
                       `n / median` = temp[[1]]$frq, 
                       `% / min; max` = temp[[1]]$raw.prc)
)

# Publication type
temp <- main %>% 
  frq(Pub_type, sort.frq = "desc", show.na = FALSE)

table_1 <- rbind(table_1,
                 cbind(Characteristic = c("Type of publication", 
                                          cbind(rep("", length(temp[[1]]$val)-1))),
                       Value = as.character(temp[[1]]$val), 
                       `n / median` = temp[[1]]$frq, 
                       `% / min; max` = temp[[1]]$raw.prc)
)


# Purpose
temp <- main %>% 
  select(starts_with("Purpose_")) %>% 
  mutate_all(na_if, "") %>%   
  gather(Order, Purpose, Purpose_1:Purpose_2) %>% 
  mutate(Purpose = ifelse(Purpose %in% c("Emergency planning", "Service population", "Epidemiology", "Commuting") | is.na(Purpose), Purpose, "Other")) %>% 
  frq(Purpose, sort.frq = "desc", show.na = FALSE)

table_1 <- rbind(table_1,
                 cbind(Characteristic = c("Purpose of publication*", 
                                          cbind(rep("", length(temp[[1]]$val)-1))),
                       Value = as.character(temp[[1]]$val), 
                       `n / median` = temp[[1]]$frq, 
                       `% / min; max` = temp[[1]]$raw.prc * 2)
)

# Data type
temp <- main %>% 
  select(starts_with("Type_")) %>% 
  mutate_all(na_if, "") %>%   
  gather(Order, Type, Type_1:Type_4) %>% 
  frq(Type, sort.frq = "desc", show.na = FALSE)

table_1 <- rbind(table_1,
                 cbind(Characteristic = c("Main type of data*", 
                                          cbind(rep("", length(temp[[1]]$val)-1))),
                       Value = as.character(temp[[1]]$val), 
                       `n / median` = temp[[1]]$frq, 
                       `% / min; max` = temp[[1]]$raw.prc * 4)
)



# Region of study
temp <- main %>% 
  mutate_all(na_if, "") %>%   
  mutate(Region_type = ifelse(National == "Yes", "Country", Region_type)) %>%
  frq(Region_type, sort.frq = "desc", show.na = FALSE)

table_1 <- rbind(table_1,
                 cbind(Characteristic = c("Study region", 
                                          cbind(rep("", length(temp[[1]]$val)-1))),
                       Value = as.character(temp[[1]]$val), 
                       `n / median` = temp[[1]]$frq, 
                       `% / min; max` = temp[[1]]$raw.prc)
)


# Region of estimates
temp <- main %>% 
  mutate_all(na_if, "") %>%   
  select(starts_with("Est_unit_type_")) %>% 
  gather(Order, Sunit, Est_unit_type_1:Est_unit_type_2) %>% 
  mutate(Sunit = ifelse(Sunit == "City", "Administrative", Sunit)) %>% 
  frq(Sunit, sort.frq = "desc", show.na = FALSE)

table_1 <- rbind(table_1,
                 cbind(Characteristic = c("Regions for estimates*", 
                                          cbind(rep("", length(temp[[1]]$val)-1))),
                       Value = as.character(temp[[1]]$val), 
                       `n / median` = temp[[1]]$frq, 
                       `% / min; max` = temp[[1]]$raw.prc * 2)
)

# no of regions
# descr(main, Est_spat_num_1)

table_1 <- rbind(table_1, 
                 cbind(
                   Characteristic = "Number of regions for estimates", 
                   Value = "", 
                   `n / median` = number(median(main$Est_spat_num_1, na.rm = TRUE), big.mark = ","),
                   `% / min; max` = str_c(as.character(number(min(main$Est_spat_num_1, na.rm = TRUE), big.mark = ",")),
                                          as.character(number(max(main$Est_spat_num_1, na.rm = TRUE), big.mark = ",")),
                                          sep = "; ")
                 )
)

# Temp unit
temp <- main %>% 
  mutate_all(na_if, "") %>%   
  frq(Est_tunit, sort.frq = "desc", show.na = FALSE)

table_1 <- rbind(table_1,
                 cbind(Characteristic = c("Temporal unit of estimates", 
                                          cbind(rep("", length(temp[[1]]$val)-1))),
                       Value = as.character(temp[[1]]$val), 
                       `n / median` = temp[[1]]$frq, 
                       `% / min; max` = temp[[1]]$raw.prc)
)


# pop size
# descr(main, Est_pop_size)

table_1 <- rbind(table_1, 
                 cbind(
                   Characteristic = "Size of estimated population", 
                   Value = "", 
                   `n / median` = number(median(main$Est_pop_size, na.rm = TRUE), big.mark = ","),
                   `% / min; max` = str_c(as.character(number(min(main$Est_pop_size, na.rm = TRUE), big.mark = ",")),
                                          as.character(number(max(main$Est_pop_size, na.rm = TRUE), big.mark = ",")),
                                          sep = "; ")
                 )
)


# data size
# descr(main, Data_size_users)

table_1 <- rbind(table_1, 
                 cbind(
                   Characteristic = "Size of dataset", 
                   Value = "", 
                   `n / median` = number(median(main$Data_size_users, na.rm = TRUE), big.mark = ","),
                   `% / min; max` = str_c(as.character(number(min(main$Data_size_users, na.rm = TRUE), big.mark = ",")),
                                          as.character(number(max(main$Data_size_users, na.rm = TRUE), big.mark = ",")),
                                          sep = "; ")
                 )
)



```

```{r results='asis'}
table_1 %>% 
  kable() 
```



# References

<div id="refs"></div>



